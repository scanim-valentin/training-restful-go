<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2221px" preserveAspectRatio="none" style="width:1518px;height:2221px;background:#FFFFFF;" version="1.1" viewBox="0 0 1518 2221" width="1518px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="2209.4766" style="stroke:#181818;stroke-width:0.5;" width="829" x="666.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="96" x="1033" y="19.4951">RESTful go API</text><rect fill="#FFFFFF" height="1832.0938" style="stroke:#181818;stroke-width:1.0;" width="10" x="402.5" y="293.7734"/><rect fill="#FFFFFF" height="272.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="407.5" y="393.8281"/><rect fill="#FFFFFF" height="272.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="407.5" y="698.3438"/><rect fill="#FFFFFF" height="261.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="407.5" y="1052.2109"/><rect fill="#FFFFFF" height="288.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="407.5" y="1388.4297"/><rect fill="#FFFFFF" height="195.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="407.5" y="1854.0547"/><rect fill="#FFFFFF" height="211.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="693.5" y="424.1797"/><rect fill="#FFFFFF" height="211.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="693.5" y="728.6953"/><rect fill="#FFFFFF" height="200.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="693.5" y="1082.5625"/><rect fill="#FFFFFF" height="211.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="693.5" y="1435.1328"/><rect fill="#FFFFFF" height="113.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="693.5" y="2012.8125"/><rect fill="#FFFFFF" height="150.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="842.5" y="454.5313"/><rect fill="#FFFFFF" height="150.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="842.5" y="759.0469"/><rect fill="#FFFFFF" height="140.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="842.5" y="1112.9141"/><rect fill="#FFFFFF" height="107.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="842.5" y="1508.8359"/><rect fill="#FFFFFF" height="39.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="842.5" y="2086.5156"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1409.5" y="544.5859"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1409.5" y="849.1016"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1409.5" y="1192.3203"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1409.5" y="1751.6484"/><rect fill="none" height="625.3828" style="stroke:#000000;stroke-width:1.5;" width="1420.5" x="81" y="353.125"/><rect fill="none" height="111.7578" style="stroke:#000000;stroke-width:1.5;" width="655.5" x="81" y="1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="108" x2="108" y1="82.6094" y2="2134.8672"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="407.5" x2="407.5" y1="82.6094" y2="2134.8672"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="698.5" x2="698.5" y1="82.6094" y2="2134.8672"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="847.5" x2="847.5" y1="82.6094" y2="2134.8672"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1414.5" x2="1414.5" y1="82.6094" y2="2134.8672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="91" y="79.5332">User</text><ellipse cx="108.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M108.5,21.5 L108.5,48.5 M95.5,29.5 L121.5,29.5 M108.5,48.5 L95.5,63.5 M108.5,48.5 L121.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="91" y="2148.4004">User</text><ellipse cx="108.5" cy="2159.9766" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M108.5,2167.9766 L108.5,2194.9766 M95.5,2175.9766 L121.5,2175.9766 M108.5,2194.9766 L95.5,2209.9766 M108.5,2194.9766 L121.5,2209.9766 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="314.5" y="79.5332">In-Browser ReactJS frontend</text><ellipse cx="407.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M407.5,21.5 L407.5,48.5 M394.5,29.5 L420.5,29.5 M407.5,48.5 L394.5,63.5 M407.5,48.5 L420.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="314.5" y="2148.4004">In-Browser ReactJS frontend</text><ellipse cx="407.5" cy="2159.9766" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M407.5,2167.9766 L407.5,2194.9766 M394.5,2175.9766 L420.5,2175.9766 M407.5,2194.9766 L394.5,2209.9766 M407.5,2194.9766 L420.5,2209.9766 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="670.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="677.5" y="71.5332">Server</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="670.5" y="2133.8672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="677.5" y="2155.4004">Server</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="58" x="818.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="825.5" y="71.5332">Utilities</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="58" x="818.5" y="2133.8672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="825.5" y="2155.4004">Utilities</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="1337.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="1344.5" y="71.5332">PostgreSQL database</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="1337.5" y="2133.8672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="1344.5" y="2155.4004">PostgreSQL database</text><rect fill="#FFFFFF" height="1832.0938" style="stroke:#181818;stroke-width:1.0;" width="10" x="402.5" y="293.7734"/><rect fill="#FFFFFF" height="272.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="407.5" y="393.8281"/><rect fill="#FFFFFF" height="272.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="407.5" y="698.3438"/><rect fill="#FFFFFF" height="261.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="407.5" y="1052.2109"/><rect fill="#FFFFFF" height="288.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="407.5" y="1388.4297"/><rect fill="#FFFFFF" height="195.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="407.5" y="1854.0547"/><rect fill="#FFFFFF" height="211.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="693.5" y="424.1797"/><rect fill="#FFFFFF" height="211.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="693.5" y="728.6953"/><rect fill="#FFFFFF" height="200.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="693.5" y="1082.5625"/><rect fill="#FFFFFF" height="211.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="693.5" y="1435.1328"/><rect fill="#FFFFFF" height="113.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="693.5" y="2012.8125"/><rect fill="#FFFFFF" height="150.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="842.5" y="454.5313"/><rect fill="#FFFFFF" height="150.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="842.5" y="759.0469"/><rect fill="#FFFFFF" height="140.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="842.5" y="1112.9141"/><rect fill="#FFFFFF" height="107.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="842.5" y="1508.8359"/><rect fill="#FFFFFF" height="39.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="842.5" y="2086.5156"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1409.5" y="544.5859"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1409.5" y="849.1016"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1409.5" y="1192.3203"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1409.5" y="1751.6484"/><path d="M5,97.6094 L5,205.6094 L512,205.6094 L512,107.6094 L502,97.6094 L5,97.6094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M502,97.6094 L502,107.6094 L512,107.6094 L502,97.6094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="486" x="11" y="116.1045">Note: Frontend is served by a service based on ReactJS (server-side and client-side)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="437" x="11" y="132.4561">This service is not represented here as an actor because its sole purpose is</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="11" y="148.8076">to provide the client to the user's browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="430" x="11" y="165.1592">The In-Browser ReactJS frontend actor regroups server-side and client-side</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="474" x="11" y="181.5107">But JS code is exectued client-side, so it should be the client address that is sent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="11" y="197.8623">to the DB and not the frontend server address</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1511.5" x="0" y="231.8945"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1511.5" y1="231.8945" y2="231.8945"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1511.5" y1="234.8945" y2="234.8945"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="171" x="670.25" y="220.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153" x="676.25" y="238.2139">User connects to service</text><polygon fill="#181818" points="390.5,289.7734,400.5,293.7734,390.5,297.7734,394.5,293.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="108.5" x2="396.5" y1="293.7734" y2="293.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="115.5" y="272.5654">Connecting to frontend service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="115.5" y="288.917">Charging view and ReactJS</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1511.5" x="0" y="322.9492"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1511.5" y1="322.9492" y2="322.9492"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1511.5" y1="325.9492" y2="325.9492"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="165" x="673.25" y="311.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="147" x="679.25" y="329.2686">Register or login phase</text><path d="M81,353.125 L142,353.125 L142,361.4766 L132,371.4766 L81,371.4766 L81,353.125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="625.3828" style="stroke:#000000;stroke-width:1.5;" width="1420.5" x="81" y="353.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="96" y="367.6201">alt</text><polygon fill="#181818" points="395.5,389.8281,405.5,393.8281,395.5,397.8281,399.5,393.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="108.5" x2="401.5" y1="393.8281" y2="393.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="115.5" y="388.9717">Register attempt as "name"</text><polygon fill="#181818" points="681.5,420.1797,691.5,424.1797,681.5,428.1797,685.5,424.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="417.5" x2="687.5" y1="424.1797" y2="424.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="424.5" y="419.3232">[GET] .../getNewUserID?=name</text><polygon fill="#181818" points="830.5,450.5313,840.5,454.5313,830.5,458.5313,834.5,454.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="703.5" x2="836.5" y1="454.5313" y2="454.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="710.5" y="449.6748">Register(w,r)</text><line style="stroke:#181818;stroke-width:1.0;" x1="852.5" x2="894.5" y1="484.8828" y2="484.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="894.5" x2="894.5" y1="484.8828" y2="497.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="853.5" x2="894.5" y1="497.8828" y2="497.8828"/><polygon fill="#181818" points="863.5,493.8828,853.5,497.8828,863.5,501.8828,859.5,497.8828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="859.5" y="480.0264">ip, port = getIP(r)</text><polygon fill="#181818" points="1397.5,540.5859,1407.5,544.5859,1397.5,548.5859,1401.5,544.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.5" x2="1403.5" y1="544.5859" y2="544.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="369" x="859.5" y="523.3779">INSERT INTO users (name, status) VALUES ("name", ip, port) ;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="317" x="863.5" y="539.7295">SELECT currval(pg_get_serial_sequence("users","id"));</text><polygon fill="#181818" points="863.5,570.9375,853.5,574.9375,863.5,578.9375,859.5,574.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="857.5" x2="1413.5" y1="574.9375" y2="574.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="869.5" y="570.0811">3265</text><polygon fill="#181818" points="714.5,601.2891,704.5,605.2891,714.5,609.2891,710.5,605.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="708.5" x2="846.5" y1="605.2891" y2="605.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="720.5" y="600.4326">"3265"</text><polygon fill="#181818" points="428.5,631.6406,418.5,635.6406,428.5,639.6406,424.5,635.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="422.5" x2="697.5" y1="635.6406" y2="635.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="434.5" y="630.7842">"3265"</text><polygon fill="#181818" points="119.5,661.9922,109.5,665.9922,119.5,669.9922,115.5,665.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="113.5" x2="401.5" y1="665.9922" y2="665.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="125.5" y="661.1357">Logged in</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="81" x2="1501.5" y1="674.9922" y2="674.9922"/><polygon fill="#181818" points="395.5,694.3438,405.5,698.3438,395.5,702.3438,399.5,698.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="108.5" x2="401.5" y1="698.3438" y2="698.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="115.5" y="693.4873">Login attempt as user ID 3265</text><polygon fill="#181818" points="681.5,724.6953,691.5,728.6953,681.5,732.6953,685.5,728.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="417.5" x2="687.5" y1="728.6953" y2="728.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="424.5" y="723.8389">[GET] .../login?=3265</text><polygon fill="#181818" points="830.5,755.0469,840.5,759.0469,830.5,763.0469,834.5,759.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="703.5" x2="836.5" y1="759.0469" y2="759.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="710.5" y="754.1904">Login(w,r)</text><line style="stroke:#181818;stroke-width:1.0;" x1="852.5" x2="894.5" y1="789.3984" y2="789.3984"/><line style="stroke:#181818;stroke-width:1.0;" x1="894.5" x2="894.5" y1="789.3984" y2="802.3984"/><line style="stroke:#181818;stroke-width:1.0;" x1="853.5" x2="894.5" y1="802.3984" y2="802.3984"/><polygon fill="#181818" points="863.5,798.3984,853.5,802.3984,863.5,806.3984,859.5,802.3984" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="859.5" y="784.542">ip, port = getIP(r)</text><polygon fill="#181818" points="1397.5,845.1016,1407.5,849.1016,1397.5,853.1016,1401.5,849.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.5" x2="1403.5" y1="849.1016" y2="849.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="340" x="859.5" y="827.8936">UPDATE users SET ip = ip, port = port WHERE id = 3265;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="863.5" y="844.2451">SELECT * FROM users;</text><polygon fill="#181818" points="863.5,875.4531,853.5,879.4531,863.5,883.4531,859.5,879.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="857.5" x2="1413.5" y1="879.4531" y2="879.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="869.5" y="874.5967">user_list</text><polygon fill="#181818" points="714.5,905.8047,704.5,909.8047,714.5,913.8047,710.5,909.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="708.5" x2="846.5" y1="909.8047" y2="909.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="720.5" y="904.9482">user_list</text><polygon fill="#181818" points="428.5,936.1563,418.5,940.1563,428.5,944.1563,424.5,940.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="422.5" x2="697.5" y1="940.1563" y2="940.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="434.5" y="935.2998">users.json</text><polygon fill="#181818" points="119.5,966.5078,109.5,970.5078,119.5,974.5078,115.5,970.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="113.5" x2="401.5" y1="970.5078" y2="970.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="125.5" y="965.6514">List of other users</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1511.5" x="0" y="1006.6836"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1511.5" y1="1006.6836" y2="1006.6836"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1511.5" y1="1009.6836" y2="1009.6836"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="264" x="623.75" y="995.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="246" x="629.75" y="1013.0029">Start chatting session with user "other"</text><polygon fill="#181818" points="395.5,1048.2109,405.5,1052.2109,395.5,1056.2109,399.5,1052.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="108.5" x2="401.5" y1="1052.2109" y2="1052.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="115.5" y="1047.3545">Select user "other" from list with id 3103</text><polygon fill="#181818" points="681.5,1078.5625,691.5,1082.5625,681.5,1086.5625,685.5,1082.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="417.5" x2="687.5" y1="1082.5625" y2="1082.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="424.5" y="1077.7061">[GET] .../select?=3103</text><polygon fill="#181818" points="830.5,1108.9141,840.5,1112.9141,830.5,1116.9141,834.5,1112.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="703.5" x2="836.5" y1="1112.9141" y2="1112.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="710.5" y="1108.0576">GetConversation(w,r)</text><polygon fill="#181818" points="1397.5,1188.3203,1407.5,1192.3203,1397.5,1196.3203,1401.5,1192.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.5" x2="1403.5" y1="1192.3203" y2="1192.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="859.5" y="1138.4092">SELECT * FROM messages</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="859.5" y="1154.7607">WHERE source = 3103 AND destination = 3265</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="859.5" y="1171.1123">OR source = 3265 AND destination = 3103</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="859.5" y="1187.4639">ORDER BY time ACS;</text><polygon fill="#181818" points="863.5,1218.6719,853.5,1222.6719,863.5,1226.6719,859.5,1222.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="857.5" x2="1413.5" y1="1222.6719" y2="1222.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="869.5" y="1217.8154">message_list</text><polygon fill="#181818" points="714.5,1249.0234,704.5,1253.0234,714.5,1257.0234,710.5,1253.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="708.5" x2="846.5" y1="1253.0234" y2="1253.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="720.5" y="1248.167">message_list</text><polygon fill="#181818" points="428.5,1279.375,418.5,1283.375,428.5,1287.375,424.5,1283.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="422.5" x2="697.5" y1="1283.375" y2="1283.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="434.5" y="1278.5186">conversation.json</text><polygon fill="#181818" points="119.5,1309.7266,109.5,1313.7266,119.5,1317.7266,115.5,1313.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="113.5" x2="401.5" y1="1313.7266" y2="1313.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="125.5" y="1308.8701">Conversation with user "other"</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1511.5" x="0" y="1342.9023"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1511.5" y1="1342.9023" y2="1342.9023"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1511.5" y1="1345.9023" y2="1345.9023"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="285" x="613.25" y="1331.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="267" x="619.25" y="1349.2217">User "user" sends message to user "other"</text><polygon fill="#181818" points="395.5,1384.4297,405.5,1388.4297,395.5,1392.4297,399.5,1388.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="108.5" x2="401.5" y1="1388.4297" y2="1388.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="115.5" y="1383.5732">Sends "Hello" to user "other"</text><polygon fill="#181818" points="681.5,1431.1328,691.5,1435.1328,681.5,1439.1328,685.5,1435.1328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="417.5" x2="687.5" y1="1435.1328" y2="1435.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="424.5" y="1413.9248">[POST] .../SendMessage</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="424.5" y="1430.2764">source=3265&amp;destination=3103&amp;body=Hello</text><line style="stroke:#181818;stroke-width:1.0;" x1="703.5" x2="745.5" y1="1465.4844" y2="1465.4844"/><line style="stroke:#181818;stroke-width:1.0;" x1="745.5" x2="745.5" y1="1465.4844" y2="1478.4844"/><line style="stroke:#181818;stroke-width:1.0;" x1="704.5" x2="745.5" y1="1478.4844" y2="1478.4844"/><polygon fill="#181818" points="714.5,1474.4844,704.5,1478.4844,714.5,1482.4844,710.5,1478.4844" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="710.5" y="1460.6279">time=time.Now()</text><polygon fill="#181818" points="830.5,1504.8359,840.5,1508.8359,830.5,1512.8359,834.5,1508.8359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="703.5" x2="836.5" y1="1508.8359" y2="1508.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="710.5" y="1503.9795">SendMessage(w,r)</text><polygon fill="#181818" points="1402.5,1551.5391,1412.5,1555.5391,1402.5,1559.5391,1406.5,1555.5391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.5" x2="1408.5" y1="1555.5391" y2="1555.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="538" x="859.5" y="1534.3311">INSERT INTO messages (source, destination, body, time) VALUES (3265,3103,"Hello",time);</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="345" x="863.5" y="1550.6826">SELECT currval(pg_get_serial_sequence("messages","id"));</text><polygon fill="#181818" points="863.5,1581.8906,853.5,1585.8906,863.5,1589.8906,859.5,1585.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="857.5" x2="1413.5" y1="1585.8906" y2="1585.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="869.5" y="1581.0342">54</text><polygon fill="#181818" points="714.5,1612.2422,704.5,1616.2422,714.5,1620.2422,710.5,1616.2422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="708.5" x2="846.5" y1="1616.2422" y2="1616.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="720.5" y="1611.3857">true</text><polygon fill="#181818" points="428.5,1642.5938,418.5,1646.5938,428.5,1650.5938,424.5,1646.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="422.5" x2="697.5" y1="1646.5938" y2="1646.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="434.5" y="1641.7373">[HTTP response status] 201 Created</text><polygon fill="#181818" points="119.5,1672.9453,109.5,1676.9453,119.5,1680.9453,115.5,1676.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="113.5" x2="401.5" y1="1676.9453" y2="1676.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="125.5" y="1672.0889">New message appears</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1511.5" x="0" y="1706.1211"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1511.5" y1="1706.1211" y2="1706.1211"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1511.5" y1="1709.1211" y2="1709.1211"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="318" x="596.75" y="1694.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="300" x="602.75" y="1712.4404">User "other" sends message "Hi!" to user "user"</text><polygon fill="#181818" points="1397.5,1747.6484,1407.5,1751.6484,1397.5,1755.6484,1401.5,1751.6484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="698.5" x2="1403.5" y1="1751.6484" y2="1751.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="287" x="705.5" y="1746.792">SELECT ip, port FROM users WHERE id = 3265;</text><polygon fill="#181818" points="709.5,1778,699.5,1782,709.5,1786,705.5,1782" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="703.5" x2="1413.5" y1="1782" y2="1782"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="715.5" y="1777.1436">user_ip, user_port</text><path d="M81,1797 L142,1797 L142,1805.3516 L132,1815.3516 L81,1815.3516 L81,1797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="111.7578" style="stroke:#000000;stroke-width:1.5;" width="655.5" x="81" y="1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="96" y="1811.4951">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="189" x="157" y="1810.4189">[not( net.user_ip.isUnspecified() )]</text><polygon fill="#181818" points="428.5,1850.0547,418.5,1854.0547,428.5,1858.0547,424.5,1854.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="422.5" x2="697.5" y1="1854.0547" y2="1854.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="434.5" y="1832.8467">[POST] .../SendMessage</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="434.5" y="1849.1982">source=3103&amp;destination=3265&amp;body=Hi!</text><polygon fill="#181818" points="119.5,1896.7578,109.5,1900.7578,119.5,1904.7578,115.5,1900.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="113.5" x2="406.5" y1="1900.7578" y2="1900.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="125.5" y="1879.5498">New message appears</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="125.5" y="1895.9014">(if current chatting session is with user "other")</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1511.5" x="0" y="1936.9336"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1511.5" y1="1936.9336" y2="1936.9336"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1511.5" y1="1939.9336" y2="1939.9336"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="206" x="652.75" y="1925.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="188" x="658.75" y="1943.2529">User disconnects from service</text><polygon fill="#181818" points="395.5,1978.4609,405.5,1982.4609,395.5,1986.4609,399.5,1982.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="108.5" x2="401.5" y1="1982.4609" y2="1982.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="115.5" y="1977.6045">Disconnects from frontend service</text><polygon fill="#181818" points="681.5,2008.8125,691.5,2012.8125,681.5,2016.8125,685.5,2012.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="417.5" x2="687.5" y1="2012.8125" y2="2012.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="424.5" y="2007.9561">[GET] .../Logout?=3265</text><line style="stroke:#181818;stroke-width:1.0;" x1="417.5" x2="459.5" y1="2048.1641" y2="2048.1641"/><line style="stroke:#181818;stroke-width:1.0;" x1="459.5" x2="459.5" y1="2048.1641" y2="2061.1641"/><line style="stroke:#181818;stroke-width:1.0;" x1="412.5" x2="459.5" y1="2061.1641" y2="2061.1641"/><polygon fill="#181818" points="422.5,2057.1641,412.5,2061.1641,422.5,2065.1641,418.5,2061.1641" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="424.5" y="2043.3076">Disconnects</text><polygon fill="#181818" points="830.5,2082.5156,840.5,2086.5156,830.5,2090.5156,834.5,2086.5156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="703.5" x2="836.5" y1="2086.5156" y2="2086.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="710.5" y="2081.6592">Logout(w,r)</text><polygon fill="#181818" points="1402.5,2112.8672,1412.5,2116.8672,1402.5,2120.8672,1406.5,2116.8672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.5" x2="1408.5" y1="2116.8672" y2="2116.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="376" x="859.5" y="2112.0107">UPDATE users SET ip = 0.0.0.0 and port = 0 WHERE id = 3265;</text><!--SRC=[jLPjSnet4Fv-ls9p7r9epjI9ctvmXcPiGs8wZaq1jzC9cOpWrg3EMRfAEfFy- -vAnt476BiV2ZDmB_loQ9z7gnLpfmtSMZHH9FnrF517vqQlw16Ca9xzDeOxevL3bSOWRBY9PleRnAF-U79NPB3GS3OSn150BeoJSvaBvG3YCPe7DDxB-iijY_ZMoKmwYTRR57Hdjqs6shg5mV7lLv0A9sR2eZTEPr54a820H97I3a5J0h-K9624KxYcvwVmeOGFiiH1Njz1-6ivH-2OAMXLhRSLq1vPcI88Sfnd4fNpz-sfcYpBGEnCbvGT3EO6BHbHf2KQP8X2GQZf3EUYi6Jho4zd27bXSiqFx5Gv3RdH3vpABR5C1VIKxyZB_61X5WZXr0W722hp6LmONUJhgkzTnrIT5mx8TwvJlmhyXdDNOCCe8RY46knI5nbLhG5Hf2ajsT8ZuK9fbVFBOPlUkK_8fU7R2c10jFQDkbtF685GYj9RNlUwijrkvDyT_Lho-UeLKNeHBALQi6qZBZbDrSLIc0M_VP2uyXZA8f6mEDq85z8w2ajroZHPGhua_ZaRWCWS_JQo-gILat0ExtF7xCPAt2Dh7afuv15Mvrq-V-nFla2dq_bfWUuQLnnqq7lVPI_ln9-o6kJfjG-DPArLOjgLAN-2KMLz2Z9F8DV6GHSeos3OUimXdN5iyXXSZ_kZ2VrDRhouBBGO4H7jX2ji6_uukxhjqnO8oqkg56ruDrKmxb_rBoOmBunv45ahNtobl5yfZXGP_VrJe9fZA_QHuoIMQTnklsj08YJL0ewE2D79cr_UHZk0rvLXYvXDGgKt1IjhtdXVyH0Ov7TNUh4WJKj5hp6pk9VUAw-36hUC7mQz3RR337iTlUysLhANMf_eV-7rTjWxc_HBIiVz2OKWvreS__VdPN_K1vdIFOEjCVeZV1ZTV0h-Jn36DbypakXXrffcUudpsJf_MwqU8O-yGT-1fXPYWZNJgDA8T_BOqJa1S-e-lXjOwYUIclXAkcKWCFP-CMrjg6XlDfCnPjHBcjRq-XuOTuX4nJfvVNpo31LO7unai3P_L0OVqL4Re-TME89yG10LlqsQxccjOe5qUWH6hIuCTqmF5SwkUv2YfQhuy2NPKtKpgXdIats6vC-6lVu8ply29-yHpYx6JoYYXFCCKUnOxjN5l5QS0_Aert2NzgWwN7mxYlbyIkqQ0HyUpnO9-yMNc6KwtlPxN1V3ct4f30xmAQITgi20xnKlQxNtgdavq-dtha-qHq3brQbdfSi_dMkzQhKFQwsM_B3EjWw7jSHe6FA8axfI4c2aYKUoEJ9uJGcl8ocBbVZt_-7SM2Tzvj7nzkV3QdEcmCTLzlboCXdIh6HphMW020VW5tXp_1ek30gQvFRBZWxpIaKYpr5GLzfehPHJKspnfNnHaqxGevyujfaB6xxQxrK3ttJddIOUDUkpquCvXh_WG9KnZJeydRL0eUkKTXrfRvNDSIxl9AQjDkpJLcrdFALnbdH3uopwe77veWpTBF3UwavLIzvvxV3OkTFmQVJSsVnjg92lZmiVFvMs6ZLzezyCcpGUDiVDK-XjMs-Fcz7X4u6EUrsusc1GcTTaM4iI7HeSA59p0szjtlqJm777V_qWN4u2nxiA-XS0]--></g></svg>